<div ng-controller="mapVacanciesListCtrl">

    <div class="page-header">
        <h1>Карта с кластерами меток из полученных данных</h1>
    </div>

    <leaflet  bounds="bounds" layers="layers" markers="markers" width="700" height="480"></leaflet>

    <div ng-show="false">
        Latitude NorthEast: <input step="any" ng-model="bounds.northEast.lat" type="number">
        Longitude NorthEast: <input step="any" ng-model="bounds.northEast.lng" type="number">
        Latitude SouthWest: <input step="any" ng-model="bounds.southWest.lat" type="number">
        Longitude SouthWest: <input step="any" ng-model="bounds.southWest.lng" type="number">
    </div>

    <form ng-submit="loadData()">

        <div class="col-lg-6">
            <div class="input-group">
                  <input type="text" ng-model="searchInput" ng-enter="loadData()"  class="form-control">
                  <span class="input-group-btn">
                      <a class="btn btn-primary " role="button" ng-click="reload()" href="#/mapVacanciesList">Обновить</a>
                  </span>
            </div>
        </div>
    </form>
    <p><br><p>

    <ul>
        <table class="table-bordered">
            <tr align="center">
                <td>Наименование вакансии</td>
                <td>Город</td>
                <td>Наниматель</td>
                <td>Валюта</td>
                <td>Сумма вознаграждения</td>
                <td>Требования</td>
                <td>Сфера ответственности</td>
                <td>Адрес</td>
                <td>Координаты</td>
            </tr>

            <tr ng-repeat="vacancy in vacancies">
                    <td valign="top">{{vacancy.name}}</td>
                    <td align="center">{{vacancy.area.name}}</td>
                    <td>{{vacancy.employer.name}}</td>
                    <td  align="center">{{vacancy.salary.currency}}</td>
                    <td>{{vacancy.salary.from}} - {{vacancy.salary.to}}</td>
                    <td valign="top">{{vacancy.snippet.requirement}}</td>
                    <td valign="top">{{vacancy.snippet.responsibility}}</td>
                    <td>{{vacancy.address.street}}</td>
                    <td>[{{vacancy.address.lat}};{{vacancy.address.lng}}]</td>
            </tr>
        </table>

    </ul>
</div>